{% extends 'base.html' %}
{% block  contenu %}
    {% load static %}
    {% load filters %}

<div class="entête">
    {% include 'dashboard.html' %}

    <div class="container ">
        <ul class="nav nav-tabs align-content-center" role="tablist">
            <li class="nav-item  px-3">
                <a class="nav-link {% if  '/liste' in request.path %}active{% endif %}"  href="{% url 'listTache' %}">Tâches</a>
            </li>
            <li class="nav-item px-3">
                <a class="nav-link {% if  '/calendrier' in request.path %}active{% endif %} " href="{% url 'listTacheCal' %}">Calendrier</a>
            </li>


        </ul>
    </div>
</div>

    <br>
    <br>
    <!-- Taches -->
    {% for tache in Tache %}
        <div class="container">
            <div class="card">
                <div class="card-header">
                    <div class="row">
                        <div class="col-sm-3">
                            Priorité :
                            {% if tache.niveauPriorite == '0' %}
                                <span class="badge badge-pill badge-light">Aucune</span>
                            {% endif %}
                            {% if tache.niveauPriorite == '1' %}
                                <span class="badge badge-pill badge-success">Faible</span>
                            {% endif %}
                            {% if tache.niveauPriorite == '2' %}
                                <span class="badge badge-pill badge-warning">Moyenne</span>
                            {% endif %}
                            {% if tache.niveauPriorite == '3' %}
                                <span class="badge badge-pill badge-danger">Forte</span>
                            {% endif %}
                        </div>
                        <div class="col-sm-7">
                            <h4>{{ tache.nomTache }}</h4>
                        </div>
                        <div class="=col-sm-2">
                            {% retard tache.dateFin as bool %}
                            {% if bool %}
                            <div class="alert-danger">
                                Cette tâche est en retard !
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-sm-9">
                            <p class="card-text">{{ tache.description }}</p>
                            <br>
                            <div class="row">
                                <div class="col-sm-9 float-left">
                                    <a href="#" class="btn btn-primary">Modifier</a>
                                </div>
                                <div class="col-sm-3 float-right">
                                    <a href="#" class="btn btn-outline-danger">Supprimer</a>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="row">
                                <div class="col-sm-4">
                                    Début
                                    <br>
                                    Fin
                                    <br>
                                    Rappel
                                </div>
                                <div class="col-sm-2">
                                    <img class="iconeadmin" alt="debut" src="{% static 'img/date.png' %}">
                                    <br>
                                    <img class="iconeadmin" alt="fin" src="{% static 'img/dateend.png' %}">
                                    <br>
                                    <img class="iconeadmin" alt="rappel" src="{% static 'img/alerte.png' %}">
                                </div>
                                <div class="col-sm-6">
                                    {{ tache.dateDebut }}
                                    <br>
                                    {{ tache.dateFin }}
                                    <br>
                                    {{ tache.dateRappel }}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    {%  endfor %}

    <!-- Fin Stock-->

    <!-- Bouton Plus pour ajouter un Benevole -->

    <span class="plus"></span>

     <!-- Pagination -->

    <div class="container">
        <div class="row">
            <div class="col-lg-6 offset-lg-3 py-5 d-flex">
                <ul class="pagination mx-auto">
                    <div class="pagination">
                        <span class="step-links">
                            {% if Tache.has_previous %}
                                <a href="?page={{ Tache.previous_page_number }}">Precèdent</a>
                            {% endif %}
                            <span class="current">
                                Page {{ Stock.number }} de {{ Tache.paginator.num_pages }}.
                            </span>
                                {% if Tache.has_next %}
                                    <a href="?page={{ Tache.next_page_number }}">Suivant</a>
                                {% endif %}
                         </span>
                    </div>
                </ul>
            </div>
        </div>
    </div>

    <!-- Fin pagination -->


    {% include "tache/modalAjout.html" %}

{% endblock %}